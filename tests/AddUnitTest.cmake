MACRO( ADD_UNIT_TEST TEST_NAME TEST_LIST LIBS)

    ADD_EXECUTABLE( ${TEST_NAME} test-runner.cpp ${TEST_NAME}.cpp ${ARGN} )
    TARGET_LINK_LIBRARIES( ${TEST_NAME} orocos-rtt-${OROCOS_TARGET}_dynamic
        ${LIBS})
    SET_TARGET_PROPERTIES( ${TEST_NAME} PROPERTIES 
        COMPILE_DEFINITIONS "${COMPILE_DEFS}" )
    ADD_TEST( ${TEST_NAME} ${RUNTIME_OUTPUT_DIRECTORY}/${TEST_NAME})
    list(APPEND ${TEST_LIST} ${TEST_NAME})
ENDMACRO(ADD_UNIT_TEST TEST_NAME TEST_LIST LIBS)

MACRO( ADD_SIMPLE_TEST TEST_NAME TEST_LIST LIBS)

    ADD_EXECUTABLE( ${TEST_NAME} ${TEST_NAME}.cpp ${ARGN} )
    TARGET_LINK_LIBRARIES( ${TEST_NAME} orocos-rtt-${OROCOS_TARGET}_dynamic
        ${LIBS})
    SET_TARGET_PROPERTIES( ${TEST_NAME} PROPERTIES 
        COMPILE_DEFINITIONS "${COMPILE_DEFS}" )
    ADD_TEST( ${TEST_NAME} ${RUNTIME_OUTPUT_DIRECTORY}/${TEST_NAME})
    list(APPEND ${TEST_LIST} ${TEST_NAME})
ENDMACRO(ADD_SIMPLE_TEST TEST_NAME TEST_LIST LIBS)

